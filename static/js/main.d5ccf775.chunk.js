(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(20)},,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),i=a.n(c),l=(a(12),a(2)),o=a.n(l),s=a(4),u=a(1),m=(a(14),function(){var e=Object(n.useContext)(b),t=e.main,a=e.celsiusFlag,c=e.setCelsiusFlag,i=t.temp,l=t.location,o=t.conditions,s=Math.round(i-273),u=Math.round(1.8*(i-273))+32,m=a?r.a.createElement("div",{className:"temp"},s,"\xb0C"):r.a.createElement("div",{className:"temp"},u,"\xb0F");return i?r.a.createElement("div",{className:"temp-panel"},r.a.createElement("div",{className:"temp-convert"},r.a.createElement("button",{className:"temp-convertC".concat(a?" active":""),onClick:function(){c(!0)}},"C"),r.a.createElement("button",{className:"temp-convertF".concat(a?"":" active"),onClick:function(){c(!1)}},"F")),r.a.createElement("div",{className:"temp-location"},l),m,r.a.createElement("div",{className:"temp-conditions"},o)):null}),d=(a(15),function(){var e=Object(n.useContext)(b).main.conditions,t=["Clear"].includes(e)?r.a.createElement("div",{className:"conditions-sun"}):null,a=["Thunderstorm","Drizzle","Rain","Snow","Clouds"].includes(e)?r.a.createElement("div",{className:"conditions-clouds"}):null,c=["Thunderstorm","Drizzle","Rain"].includes(e)?r.a.createElement("div",{className:"conditions-rain"}):null;return e?r.a.createElement("div",{className:"conditions-panel"},r.a.createElement("div",{className:"conditions-gradient"},t,a,c,r.a.createElement("div",{className:"conditions-mountains"}))):null}),p=(a(16),function(){var e=Object(n.useContext)(b).details,t=Math.round(e.high-273),a=Math.round(e.low-273),c=e.visibility/1e3;return 0!==Object.entries(e).length?r.a.createElement("ul",{className:"details-panel"},r.a.createElement("li",null,r.a.createElement("div",null,"High / Low"),r.a.createElement("div",null,t,"\xb0 / ",a,"\xb0")),r.a.createElement("li",null,r.a.createElement("div",null,"Wind"),r.a.createElement("div",null,e.wind," km/h")),r.a.createElement("li",null,r.a.createElement("div",null,"Humidity"),r.a.createElement("div",null,e.humidity,"%")),r.a.createElement("li",null,r.a.createElement("div",null,"Visibility"),r.a.createElement("div",null,c," km"))):null}),v=a(3),f=a.n(v),h=(a(18),function(){var e=Object(n.useContext)(b),t=e.forecast,a=e.celsiusFlag,c=t.map((function(e,t){var n=f.a.unix(e.time).calendar(null,{sameDay:"[Today]",nextDay:"ddd",nextWeek:"ddd"}),c=Math.round(e.temp-273),i=Math.round(1.8*(e.temp-273))+32,l=a?r.a.createElement("div",{className:"forecast-temp"},c,"\xb0C"):r.a.createElement("div",{className:"forecast-temp"},i,"\xb0F");return r.a.createElement("li",{key:t},l,r.a.createElement("div",{className:"forecast-conditions"},e.conditions),r.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(e.icon,".png"),alt:e.conditions}),r.a.createElement("div",null,n))}));return t?r.a.createElement("ul",{className:"forecast-panel"},c):null});var E=function(e){var t=e.time;return e.loadingFlag?r.a.createElement("div",{className:"loading"},"loading..."):r.a.createElement("main",{className:t>6&&t<=15?"day":t>15&&t<18?"evening":"night"},r.a.createElement(m,null),r.a.createElement(d,null),r.a.createElement(p,null),r.a.createElement(h,null))},b=(a(19),Object(n.createContext)());var w=function(){var e=Object(n.useState)(""),t=Object(u.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)({}),l=Object(u.a)(i,2),m=l[0],d=l[1],p=Object(n.useState)({}),v=Object(u.a)(p,2),h=v[0],w=v[1],g=Object(n.useState)([]),x=Object(u.a)(g,2),j=x[0],O=x[1],k=Object(n.useState)(""),N=Object(u.a)(k,2),y=N[0],C=N[1],T=Object(n.useState)(!0),F=Object(u.a)(T,2),S=F[0],D=F[1],M=Object(n.useState)(!1),z=Object(u.a)(M,2),H=z[0],P=z[1],W=Object(n.useState)(!1),q=Object(u.a)(W,2),B=q[0],I=q[1],J=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("501f7a750909e665d28813cf223d3967"),{mode:"cors"});case 2:if(!(a=e.sent).ok){e.next=11;break}return e.next=6,a.json();case 6:n=e.sent,R(n),C(_(n.dt,n.timezone)),e.next=22;break;case 11:if(!a.status){e.next=21;break}e.t0=a.status,e.next=404===e.t0?15:18;break;case 15:throw(r=new Error(a.statusText)).name="HTTP Error",r;case 18:throw new Error(a.statusText);case 19:e.next=22;break;case 21:throw new Error(a);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){d({conditions:e.weather[0].main,location:e.name,temp:e.main.temp,icon:e.weather[0].icon}),w({high:e.main.temp_max,low:e.main.temp_min,wind:e.wind.speed,humidity:e.main.humidity,visibility:e.visibility})},_=function(e,t){return f.a.unix(e+t).utc().hours()},A=function(){var e=Object(s.a)(o.a.mark((function e(t){var a,n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=").concat("501f7a750909e665d28813cf223d3967"),{mode:"cors"});case 2:if(!(a=e.sent).ok){e.next=10;break}return e.next=6,a.json();case 6:n=e.sent,L(n),e.next=17;break;case 10:if(404!==a.status){e.next=16;break}throw(r=new Error(a.statusText)).name="HTTP Error",r;case 16:throw new Error(a);case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(e){for(var t=[],a=0;a<40;a+=8)t.push(V(e.list[a]));O(t)},V=function(e){return{time:e.dt,conditions:e.weather[0].main,temp:e.main.temp,icon:e.weather[0].icon}},$=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),P(!0),e.prev=2,e.next=5,Promise.all([J(a),A(a)]);case 5:I(!1),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),"HTTP Error"===e.t0.name&&I(!0),console.error(e.t0);case 12:P(!1);case 13:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){J("Denver"),A("Denver")}),[]);var G=B?r.a.createElement("div",{className:"loading"},"Invalid entry"):r.a.createElement(E,{time:y,loadingFlag:H});return r.a.createElement(b.Provider,{value:{main:m,details:h,forecast:j,celsiusFlag:S,setCelsiusFlag:D}},r.a.createElement("header",null,"Weather App, by chrpng"),r.a.createElement("form",{onSubmit:$},r.a.createElement("input",{type:"text",onChange:function(e){c(e.target.value)}}),r.a.createElement("button",null,r.a.createElement("i",{className:"fas fa-search"}))),G)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.d5ccf775.chunk.js.map