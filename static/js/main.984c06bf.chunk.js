(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],[,,,,,,,function(e,t,n){e.exports=n(20)},,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),i=n(6),r=n.n(i),l=(n(12),n(2)),o=n.n(l),s=n(4),u=n(1),m=(n(14),function(){var e=Object(a.useContext)(b),t=e.main,n=e.celsiusFlag,i=e.setCelsiusFlag,r=t.temp,l=t.location,o=t.conditions,s=Math.round(r-273),u=Math.round(1.8*(r-273))+32,m=n?c.a.createElement("div",{className:"temp"},s,"\xb0C"):c.a.createElement("div",{className:"temp"},u,"\xb0F");return r?c.a.createElement("div",{className:"temp-panel"},c.a.createElement("div",{className:"temp-convert"},c.a.createElement("button",{className:"temp-convertC".concat(n?" active":""),onClick:function(){i(!0)}},"C"),c.a.createElement("button",{className:"temp-convertF".concat(n?"":" active"),onClick:function(){i(!1)}},"F")),c.a.createElement("div",{className:"temp-location"},l),m,c.a.createElement("div",{className:"temp-conditions"},o)):null}),d=(n(15),function(){var e=Object(a.useContext)(b).main.conditions,t=["Clear"].includes(e)?c.a.createElement("div",{className:"conditions-sun"}):null,n=["Thunderstorm","Drizzle","Rain","Snow","Clouds"].includes(e)?c.a.createElement("div",{className:"conditions-clouds"}):null,i=["Thunderstorm","Drizzle","Rain"].includes(e)?c.a.createElement("div",{className:"conditions-rain"}):null;return e?c.a.createElement("div",{className:"conditions-panel"},c.a.createElement("div",{className:"conditions-gradient"},t,n,i,c.a.createElement("div",{className:"conditions-mountains"}))):null}),p=(n(16),function(){var e=Object(a.useContext)(b).details,t=Math.round(e.high-273),n=Math.round(e.low-273),i=e.visibility/1e3;return 0!==Object.entries(e).length?c.a.createElement("ul",{className:"details-panel"},c.a.createElement("li",null,c.a.createElement("div",null,"High / Low"),c.a.createElement("div",null,t,"\xb0 / ",n,"\xb0")),c.a.createElement("li",null,c.a.createElement("div",null,"Wind"),c.a.createElement("div",null,e.wind," km/h")),c.a.createElement("li",null,c.a.createElement("div",null,"Humidity"),c.a.createElement("div",null,e.humidity,"%")),c.a.createElement("li",null,c.a.createElement("div",null,"Visibility"),c.a.createElement("div",null,i," km"))):null}),f=n(3),v=n.n(f),h=(n(18),function(){var e=Object(a.useContext)(b),t=e.forecast,n=e.celsiusFlag,i=t.map((function(e,t){var a=v.a.unix(e.time).calendar(null,{sameDay:"[Today]",nextDay:"ddd",nextWeek:"ddd"}),i=Math.round(e.temp-273),r=Math.round(1.8*(e.temp-273))+32,l=n?c.a.createElement("div",{className:"forecast-temp"},i,"\xb0C"):c.a.createElement("div",{className:"forecast-temp"},r,"\xb0F");return c.a.createElement("li",{key:t},l,c.a.createElement("div",{className:"forecast-conditions"},e.conditions),c.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(e.icon,".png"),alt:e.conditions}),c.a.createElement("div",null,a))}));return t?c.a.createElement("ul",{className:"forecast-panel"},i):null});var E=function(e){var t=e.time;return c.a.createElement("main",{className:t>6&&t<=15?"day":t>15&&t<18?"evening":"night"},c.a.createElement(m,null),c.a.createElement(d,null),c.a.createElement(p,null),c.a.createElement(h,null))},b=(n(19),Object(a.createContext)());var w=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],i=t[1],r=Object(a.useState)({}),l=Object(u.a)(r,2),m=l[0],d=l[1],p=Object(a.useState)({}),f=Object(u.a)(p,2),h=f[0],w=f[1],g=Object(a.useState)([]),j=Object(u.a)(g,2),O=j[0],x=j[1],N=Object(a.useState)(""),y=Object(u.a)(N,2),k=y[0],C=y[1],S=Object(a.useState)(!0),F=Object(u.a)(S,2),M=F[0],z=F[1],D=Object(a.useState)(!1),W=Object(u.a)(D,2),T=W[0],q=W[1],B=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=").concat("3f71554b83c966b8a90914d3f8f41802"),{mode:"cors"});case 3:if(!(n=e.sent).ok){e.next=11;break}return e.next=7,n.json();case 7:a=e.sent,H(a),console.log(a),C(J(a.dt,a.timezone));case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}(),H=function(e){d({conditions:e.weather[0].main,location:e.name,temp:e.main.temp,icon:e.weather[0].icon}),w({high:e.main.temp_max,low:e.main.temp_min,wind:e.wind.speed,humidity:e.main.humidity,visibility:e.visibility})},J=function(e,t){return v.a.unix(e+t).utc().hours()},P=function(){var e=Object(s.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t,"&appid=").concat("3f71554b83c966b8a90914d3f8f41802"),{mode:"cors"});case 2:if(!(n=e.sent).ok){e.next=8;break}return e.next=6,n.json();case 6:a=e.sent,R(a);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),R=function(e){for(var t=[],n=0;n<40;n+=8)t.push(_(e.list[n]));x(t)},_=function(e){return{time:e.dt,conditions:e.weather[0].main,temp:e.main.temp,icon:e.weather[0].icon}},A=function(){var e=Object(s.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),q(!0),e.next=4,Promise.all([B(n),P(n)]);case 4:q(!1);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){B("Seoul"),P("Seoul")}),[]);var I=T?c.a.createElement("div",{className:"loading"},"loading..."):c.a.createElement(E,{time:k});return c.a.createElement(b.Provider,{value:{main:m,details:h,forecast:O,celsiusFlag:M,setCelsiusFlag:z}},c.a.createElement("header",null,"Weather App, by chrpng"),c.a.createElement("form",{onSubmit:A},c.a.createElement("input",{type:"text",onChange:function(e){i(e.target.value)}}),c.a.createElement("button",null,c.a.createElement("i",{className:"fas fa-search"}))),I)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.984c06bf.chunk.js.map